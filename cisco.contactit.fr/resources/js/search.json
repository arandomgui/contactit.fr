[[{"i":"#","p":["Liste des commandes ciscos générales avec éxplications brèves."]},{"i":"cisco-en-bref","l":"\uD83D\uDE80 Cisco en bref.","p":["Il pourrait il y a avoir quelques erreures. Si vous en remarquez une, contactez-moi ici\uD83D\uDE42","Vous pouvez directement utiliser la barre de recherche. Ou l'onglet de droite pour trouver la section qui vous intéresse.","Toutes les adresses ip et masques de cette documentation, sont proposés à titre d'exemple, et peuvent donc, ne pas coïncider avec votre configuration. Faites attention, à bien renseigner les vôtres \uD83D\uDE42"]}],[{"i":"#","p":["Liste des commandes ciscos générales avec éxplications brèves."]},{"i":"la-hiérarchie-du-cli-cisco","l":"\uD83D\uDEE1️ La Hiérarchie du CLI Cisco","p":["Il pourrait il y a avoir quelques erreures. Si vous en remarquez une, contactez-moi ici\uD83D\uDE42","Vous pouvez dirèctement utiliser la barre de recherche. Ou l'onglet de droite pour trouver la section qui vous intéresse.","Le \"Command Line Interface\" de CISCO est composé de plusieurs modes:"]},{"i":"le-mode-utilisateur","l":"\uD83D\uDD39 Le mode \"utilisateur\"","p":["Permet seulement d'effectuer quelques commandes basiques."]},{"i":"le-mode-privilégié","l":"\uD83D\uDD39 Le mode \"Privilégié\"","p":["Permet plus de remonté d'informations. Comme les commandes show notamment."]},{"i":"le-mode-configuration-globale","l":"\uD83D\uDD39 Le mode \"Configuration Globale\"","p":["Contient également plusieurs sous-modes (détaillés ici).","Résumé des différents modes et commandes pour chacun d'entre eux"]},{"i":"configuration-d-une-interface","l":"\uD83D\uDEE0️ Configuration d'une interface","p":["ℹ️ GigabitEthernet0/0 est ici, le nom de l'interface (physique ou logique), dans laquelle nous rentrons. Si vous ne connaissez pas le nom de votre interface, utilisez la commande show interfaces en mode enable. Vous pouvez utiliser la commande interface ? pour voir l'ensemble des actions possibles.","\uD83D\uDC49 Router(config-if)# s'affiche après exécution de la commande.","Permet d'adresser l'interface.","Ne pas oublier no shutdown pour démarrer l'interface."]},{"i":"configuration-de-plusieurs-interfaces","l":"\uD83D\uDEE0️ Configuration de plusieurs interfaces","p":["Démarre les interfaces GigabitEthernet0/0, GigabitEthernet0/1 et GigabitEthernet0/2."]},{"i":"configuration-d-une-ligne","l":"\uD83D\uDEE0️ Configuration d'une ligne","p":["\uD83D\uDC49 Router(config-line)# s'affiche après exécution de la commande.","ℹ️ Les \"lignes\" permettent un accès distant à l'équipement. En passant par du telnet (en clair) ou du SSH (chiffré). Vous pouvez utiliser la commande line ? pour voir l'ensemble des actions possibles.","Voir les accès distants"]},{"i":"configuration-du-routeur","l":"\uD83D\uDEE0️ Configuration du routeur","p":["ℹ️ router permet de configurer le routeur pour faire ici, de l'OSPF. Les options possibles, sont des protocoles de routage entre routeurs. Vous pouvez utiliser la commande router ? pour voir l'ensemble des protocoles disponibles.","\uD83D\uDC49 Router(config-router)# s'affiche après éxécution de la commande."]}],[{"i":"#","p":["Liste des commandes ciscos générales avec éxplications brèves."]},{"i":"aide-autocomplétion-monitoring-raccourcis","l":"\uD83D\uDD0E Aide, autocomplétion, monitoring, raccourcis","p":["Il pourrait il y a avoir quelques erreures. Si vous en remarquez une, contactez-moi ici\uD83D\uDE42","Vous pouvez dirèctement utiliser la barre de recherche. Ou l'onglet de droite pour trouver la section qui vous intéresse."]},{"i":"aide","l":"⁉️ Aide","p":["L'option qui permet d'afficher les options disponibles d'une commande est ?","\uD83D\uDD1D le --More-- indique qu'il y a trop de commandes pour la fenêtre d'affichage.","La touche Entrer permet de faire défiler ligne par ligne.","La touche Espace permet de faire défiler bloc par bloc."]},{"i":"l-autocomplétion","l":"〰️ L'Autocomplétion","p":["Les commandes s’autocomplètent avec la touche de tabulation. Voici quelques exemples:","sh tabulation devient show","int devient interface","Vous pouvez commencer à tapper la commande et faire TAB dès que possible.Il se peut qu'il y ait une ambiguïté. Il faut donc continuer à tapper la commande, pour préciser au système la commande en question. Pour qu'il puisse la compléter correctement."]},{"i":"les-commandes-abrégées","l":"⏮️ Les commandes abrégées","p":["Le CLI Cisco prends en charge les abréviations des commandes. Voici quelques exemples:","Abréviation","Commande complète","conf t","configure terminal","sh ip int b","show interface brief","wr","Write memory","int g0/0","interface GigabitEthernet0/0"]},{"i":"le-signalement-d-érreures","l":"❌ Le signalement d'érreures","p":["L’environnement indique l’endroit ou il y a une erreur. Syntaxe incorrecte ou mauvais mode (do « commande »)."]},{"i":"les-raccourcis-clavier","l":"\uD83D\uDD23 Les Raccourcis clavier","p":["Avance d'un mot","Backspace","Commande précédente","Commande suivante","Compléte une commande","CRTL-C","CTRL-A","CTRL-B ou gauche","CTRL-E","CTRL-F ou droite","CTRL-N ou haut","CTRL-P ou bas","CTRL-R","CTRL-SHIFT-6 / CTRL-SHIFTS","CTRL-U","CTRL-W","CTRL-Z","Curseur vers la droite","Curseur vers la gauche","Début de ligne","Description","Efface la ligne","Efface un caractére vers la gauche","Efface un mot","ESC-b","ESC-f","Fin de ligne","Interruption","Interruption forcée","Réaffichage de la ligne","recule d'un mot","Retour au mode privilége","Séquence","TAB"]},{"i":"quelques-astuces","l":"\uD83D\uDD30 Quelques astuces","p":["La commande do permet d’exécuter une commande du mode privilège dans un autre mode."]},{"i":"désactivation-des-recherches-dns","l":"\uD83D\uDCDB Désactivation des recherches DNS","p":["Avec résolution DNS (présente par défaut), une frappe erronée ne correspondant pas à une commande peut être interprétée, en mode privilège, comme une tentative de connexion distante SSH et bloquer un certain temps la console :","Pour désactiver la résolution DNS:"]},{"i":"désactivation-des-annonces","l":"\uD83D\uDCDB Désactivation des annonces","p":["À chaque fois que vous changez l'état d'une interface (allumer(up), éteindre(down), etc...) L'équipement écrit un message dans le CLI, vous indiquant ce qui a changé. Ce qui peut être dérangeant, lorsque l'on écrit des commandes. Il est possible désactiver ses annonces:"]},{"i":"renommer-un-équipement","l":"\uD83C\uDD95 Renommer un équipement"},{"i":"définir-un-mot-de-passe-enable","l":"*️⃣ Définir un mot de passe enable","p":["Pour rentrer dans le mode \"enable\" de l'équipement, il est possible et même recommandé, de mettre un mot de passe.","Grâce à l'option secret le mot de passe est hashé."]},{"i":"voir-la-configuration-générale","l":"⭕ Voir la configuration générale","p":["Pour afficher les informations sur la configuration globale (hostname, services, interfaces, spanning-tree, mot de passe, etc…), il faut exécuter cette commande:"]},{"i":"voir-la-configuration-des-vlans","l":"⭕ Voir la configuration des vlans","p":["Pour afficher les informations sur la configuration des vlans:","Les vlans 1002, 1003, 1004, 1005 sont réservés dans le système pour du token ring. Ce système étant obsolète ces vlans ne sont pas utilisés.","ℹ️ Ici les interfaces F0/1-24 et G0/1-2 appartiennent au vlan 1."]},{"i":"supprimer-enlever-désactiver-un-élément","l":"❌ Supprimer/enlever/désactiver un élément","p":["Le suffixe no permet de retirer/désactiver/supprimer, n’importe quelle commande ou configuration précédemment écrite.","❗ Retire l’adresse ip assignée à l’interface.","❗ Désactive le protocole OSPF (et sa configuration) du routeur."]}],[{"i":"#","p":["Liste des commandes ciscos générales avec éxplications brèves."]},{"i":"layer-2-vlan-spanning-tree-trunk-étherchannel-et-encapsulation-dot1q","l":"\uD83D\uDD0C LAYER 2: Vlan, Spanning-tree, Trunk, ÉtherChannel et Encapsulation dot1Q","p":["Il pourrait il y a avoir quelques erreures. Si vous en remarquez une, contactez-moi ici\uD83D\uDE42","Vous pouvez dirèctement utiliser la barre de recherche. Ou l'onglet de droite pour trouver la section qui vous intéresse."]},{"i":"les-vlans","l":"\uD83D\uDDFF Les vlans","p":["Le vlans permettent de découper un switch en plusieurs parties.","Meilleure sécurité, Gestion, moins de coût.","Limitation du domaine de broadcast > plus de performances.","\uD83D\uDC49 Il existe deux moyens pour créer un vlan:","\uD83D\uDC49 Créer le vlan 10","\uD83D\uDC49 L'interface f0/1 à maintenant accès au vlan 10.","Le préfixe no permet de supprimer un vlan:"]},{"i":"le-spanning-tree","l":"\uD83E\uDDEE Le spanning-tree","p":["Le spanning-tree évite les boucles de broadcast et attribue un prix de chemin et une priorité pour chaque vlan. Il organise une élection en fonction des BIDs(identifiant du bridge) et adresses MAC respectifs de chaque équipement.","Plus la valeur et faible et plus le switch à des chances d’être élu « root bridge ».","Le root bridge est obligatoirement traversé pour sortir du réseau local.","Il est possible de définir la priorité d'un vlan:","Le BID doit obligatoirement être une des valeurs listées ci-dessus. (binaire ^ 2)","Il est possible de forcer le « root bridge » à un vlan, indépendamment du BID:","Si le root bridge tombe, le suppléent peux prendre le relais:"]},{"i":"le-trunk","l":"\uD83D\uDDDE️ Le trunk","p":["Le trunk va faire transiter un ou plusieurs vlan.s entre plusieurs équipements. C'est comme s'il ajoutait plus de ports au 1er switch.","Pour configurer un lien trunk, il est nécessaire de configurer l'interface (le port), avec les commandes:","Si les équipements configurés sont récents, l'équipement de l'autre côté du lien trunk pourra détecter ce lien, et donc renseigner sa configuration automatiquement."]},{"i":"l-étherchannel","l":"⚡ L’ÉtherChannel","p":["L’ÉtherChannel permet l’agrégation de liens (8 liens maximum). Permet d’augmenter le débit de la bande passante et de faire de la redondance/tolérance de pannes.","Voici à quoi ressemble 1 lien (logique) étherchannel","Sélectionner la plage d'interfaces :","Création du lien ÉtherChannel n°1 sur les interfaces :","Ici le « mode on » indique que nous sommes en mode manuel. Il faut refaire les commandes ci-dessus sur le 2ème switch.","Les deux liens physiques sont vus comme étant un lien logique: EtherChannel n°1."]},{"i":"l-encapsulation-dot1q","l":"\uD83D\uDCE8 L'encapsulation DOT1Q","p":["L’encapsulation permet avec un seul lien physique, le routage de plusieurs vlans. Le routeur va taguer les trames pour identifier les vlans. Pour cela, il est nécessaire de créer des « sous-interfaces ».","Encapsulation des trames du vlan 10, selon le standard IEEE 802.1Q.","Définition de l’adresse IP de la patte LAN du vlan spécifié.","192.168.10.1 est la passerelle des équipements du vlan 10.","Ne pas oublier d’allumer l’interface physique : g0/0/0","Si vous avez plusieurs vlans à configurer, c'est les mêmes commandes. Il faut juste les adapter pour votre configuration.","Prennons l'exemple de la configuration de l'encapsulation dot1Q du vlan 20:"]},{"i":"résumé-des-commandes-dot1q","l":"\uD83D\uDCD1 Résumé des commandes DOT1Q","p":["Copier/coller directement ces lignes (en adaptant votre configuration), dans votre terminal:"]}],[{"i":"#","p":["Liste des commandes ciscos générales avec éxplications brèves."]},{"i":"layer-3-routage-statique-ripv2-ospf-nat","l":"\uD83D\uDCE1 LAYER 3: Routage statique, RIPv2 , OSPF, NAT","p":["Il pourrait il y a avoir quelques erreures. Si vous en remarquez une, contactez-moi ici\uD83D\uDE42","Vous pouvez dirèctement utiliser la barre de recherche. Ou l'onglet de droite pour trouver la section qui vous intéresse."]},{"i":"routage-statique","l":"⚫ Routage statique","p":["Schéma route statique","\uD83D\uDC49 Pour pouvoir communiquer avec un autre réseau que le mien, c'est-à-dire avec un plan d'adressage différent; il faut établire un chemin entre les routeurs:","192.168.1.0 255.255.255.0","172.16.1.1","Next-hop Par quel chemin je passe pour acheminer le paquet.","\uD83D\uDC49 Configurer la route statique du 2ème routeur dans le sens inverse.","\uD83D\uDC49 Pour atteindre le réseau 192.168.1.0 255.255.255.0 je passe par 172.16.1.2","La commande Router#show ip route permet d'afficher les routes connues du routeur. Cette commande montre tous les protocoles de routages actifs avec les réseaux partagés.","S pour statique.","Il existe aussi une route statique par défaut 0.0.0.0 0.0.0.0 IP_NEXT_HOPE Tous les réseaux que je ne connais pas, je le donne au Next-Hope"]},{"i":"ripv2","l":"⚜️ RIPv2","p":["RIPv2 est un protocole de routage dynamique à vecteur de distance.","\uD83D\uDD04 Il permet à plusieurs routeurs de communiquer entre eux et, d' annoncer les réseaux qu'ils connaissent.","\uD83D\uDD04 Les routeurs mettent à jour leurs tables de routage (toutes les 30 secondes), en fonction des requêtes RIP qu’ils reçoivent.","RIPv2 prend en compte une notion de coût.\"Combien de saut je vais faire pour atteindre ma cible\".","➡️ C'est cette question que le routeur se pose.","Il prendra la route avec le coût le plus faible.","Quand on parle de coût, ce même principe, s'applique aux autres protocoles de routage.","Mettre les interfaces qui ne pointent pas vers un routeur, en mode passif. Ce qui limite le Trafic RIP v2 uniquement aux réseaux entre routeurs (allège le réseau et limite la surface d’attaque).","Exemple d'une topologie réseau RIP","Configurer le router 1 en mode RIP:","Passer en version 2 :","Spécifier les réseaux dans lesquels le routeur à une interface :","L’interface g0/0/0 du routeur 1 ne pointe pas vers un routeur.","Passer l’interface g0/0/0 en mode passif :","C'est le même procédé pour le routeur 2 (pensez à adapter les réseaux que le routeur annonce)."]},{"i":"résumé-des-commandes-ripv2","l":"\uD83D\uDCD1 Résumé des commandes RIPv2","p":["Copier/coller directement ces lignes (en adaptant votre configuration), dans votre terminal:"]},{"i":"ospf","l":"\uD83D\uDD30 OSPF","p":["L’OSPF est le protocole de routage à état de liens, le plus utilisé en entreprise.","Le protocole utilise des \"zones\" (ensemble de routeurs), pour sa configuration.","Tous les routeurs à l’intérieur d’une zone doivent avoir le même ID de zone pour devenir des voisins OSPF.","Quatre éléments sont à retenir dans une configuration minimale d’OSPF:","OSPF Process ID","Router ID","Les interfaces passives","Les réseaux et l’aire à laquelle ils appartiennent ( 1 réseau par patte du routeur, sous-interfaces comprises ).","\uD83D\uDC49 Voir ses voisins OSPF avec la commande:","Il est possible de définir le coût d'une route manuellement (ici au format unité (1)):"]},{"i":"résumé-des-commandes-ospf","l":"\uD83D\uDCD1 Résumé des commandes OSPF","p":["Copier/coller directement ces lignes (en adaptant votre configuration), dans votre terminal:"]},{"i":"l-ospf-multi-area","l":"\uD83D\uDD30 L'OSPF Multi area","p":["✍️ En cours d'écriture"]},{"i":"la-nat-dynamique","l":"\uD83D\uDD03 La NAT dynamique","p":["✅ Configurer l’/les interface/s LAN du routeur","✅ Configurer l’/les interface/s WAN du routeur","⭕ Configurez une ACL contenant la liste des adresses internes qui seront traduites.","0.0.0.255 Masque inversé.","✳️ Configurer le pool d'adresses IP (WAN)","10.10.10.0 correspond au réseau WAN","10.10.10.1 10.10.10.x pour définir une plage d’adresse ip","Si qu’une seule interface : 10.10.10.1 10.10.10.1","\uD83D\uDD87️ Relier l’ACL au pool d’adresses","OU","Dernière modification: 04/01/2022 - 14h34"]}],[{"i":"#","p":["Liste des commandes ciscos générales avec éxplications brèves."]},{"i":"accès-distants","l":"\uD83D\uDCE4 Accès distants","p":["Il pourrait il y a avoir quelques erreures. Si vous en remarquez une, contactez-moi ici\uD83D\uDE42","Vous pouvez dirèctement utiliser la barre de recherche. Ou l'onglet de droite pour trouver la section qui vous intéresse.","Nommer chaque équipement avec une nomenclature réfléchie, c'est gagner du temps."]},{"i":"telnet","l":"\uD83D\uDD13 Telnet","p":["Telnet est le moyen le plus rapide à configurer, mais n’est pas sécurisé. Il est nécessaire d’attribuer un mot de passe :","Pour atteindre votre équipement en telnet, il faut un vlan actif avec une adresse IP.","IL est conseillé d'utiliser le vlan 99, pour simplifier l'administration des équipements.","Activer telnet :","0 est l' ID de la ligne. 1 est le nombre maximum de connexions simultanées.","Configuration du mot de passe de la ligne:"]},{"i":"résumé-des-commandes-telnet","l":"\uD83D\uDCD1 Résumé des commandes telnet","p":["Une fois votre vlan 99 créé et adressé, que votre gateway est bien définie; vous pouvez copier/coller directement ces lignes (en adaptant votre configuration), dans votre terminal:"]},{"i":"ssh","l":"\uD83D\uDD10 SSH","p":["Le moyen le plus sécurisé, il ajoute une couche de chiffrement. Sa configuration, est dans un premier temps, similaire au telnet:","Il est nécessaire de renseigner un nom de domaine:","Génération des clés de chiffrement RSA:","Pour éviter les failles de sécurité répandues avec SSH v1, passez en version 2:","Configuration d'un login/mot de passe:","Configuration de la ligne 0, pour déclarer que seul 1 utilisateur sur le protocole SSH sera autorisé:"]},{"i":"résumé-des-commandes-ssh","l":"\uD83D\uDCD1 Résumé des commandes SSH","p":["Copier/coller directement ces lignes (en adaptant votre configuration), dans votre terminal:"]}],[{"i":"#","p":["Commandes utiles pour switch Alcatel."]},{"i":"configuration-d-un-switch-alcatel","l":"\uD83E\uDDE4 Configuration d'un switch Alcatel"},{"i":"afficher-la-configuration","l":"\uD83D\uDCD1 Afficher la configuration:"},{"i":"sauvegarder-la-configuration","l":"\uD83D\uDCDD Sauvegarder la configuration:"},{"i":"supprimer-la-configuration","l":"✂️ Supprimer la configuration:","p":["Confirmer avec Y pour \"Yes\"."]},{"i":"addresser-une-interface","l":"\uD83D\uDCCB Addresser une interface","p":["Lister les interfaces"]},{"i":"gestion-des-vlans","l":"\uD83D\uDDC2️ Gestion des Vlans"},{"i":"création-d-un-vlan","l":"\uD83D\uDCC1 Création d'un vlan:","p":["Création du vlan 10 avec comme nom test"]},{"i":"suppression-d-un-vlan","l":"❌ Suppression d'un vlan:","p":["Supprime le vlan 10"]},{"i":"voir-la-repartition-des-vlans-sur-les-ports","l":"➖ Voir la repartition des vlans sur les ports"},{"i":"configuration-du-stack","l":"〰️ Configuration du stack"},{"i":"modifier-le-slot-du-stack","l":"〰️ Modifier le slot du stack:","p":["1 est le numéro actuel du slot 2 est le numéro par lequel je veux le remplacer"]},{"i":"visualiser-la-topologie-du-stack","l":"〰️ Visualiser la topologie du stack:"},{"i":"configuration-snmp","l":"❇️ Configuration SNMP"},{"i":"créer-un-utilisateur","l":"☑️ Créer un utilisateur:","p":["Création de l'utilisateur user1 avec comme mot de passe test"]},{"i":"configuration-du-serveur-snmp","l":"\uD83D\uDD30 Configuration du serveur SNMP"},{"i":"association-de-l-utilisateur-à-la-communauté-snmp","l":"\uD83D\uDD30 Association de l'utilisateur à la communauté SNMP:","p":["Association de l'utilisateur user1 à la communauté mycommunity"]},{"i":"poe","l":"➰ POE"},{"i":"changer-le-mot-de-passeadmin","l":"✴️ Changer le mot de passeadmin"}]]